<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" href="/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TextileCloudâ„¢</title>
    <meta property="og:type" content="website" />
    <meta
      property="og:title"
      content="Feast your eyes on these 4D-ready materials!"
    />
    <meta
      property="og:description"
      content="Textile Cloud powered by Frontier.cool"
    />
    <meta
      property="og:image"
      content="%VITE_APP_WEB_URL%/static-data/social-media.png"
    />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="600" />
    <meta property="fb:app_id" content="%VITE_APP_FACEBOOK_APP_ID%" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta
      name="twitter:title"
      content="Feast your eyes on these 4D-ready materials!"
    />
    <meta
      name="twitter:description"
      content="Textile Cloud powered by Frontier.cool"
    />
    <meta
      name="twitter:image"
      content="%VITE_APP_WEB_URL%/static-data/social-media.png"
    />
  </head>
  <body>
    <script>
      const urlParams = new URLSearchParams(window.location.search)
      const sharingKey = urlParams.get('sharingKey')
      const isValidSharingKey = /^[a-zA-Z0-9_-]+$/.test(sharingKey);
      
      if (!isValidSharingKey) {
        alert('sharingKey xss')
        console.error('Invalid sharingKey', isValidSharingKey)
        window.location = window.location.origin
      }else{
          const open3d = urlParams.get('open3d')
        const showAllToken = urlParams.get('showAllToken')
        const queryParams = [];
        if (open3d) queryParams.push('open3d=true');
        if (showAllToken) queryParams.push(`showAllToken=${showAllToken}`);

        const queryString = queryParams.length > 0 ? `?${queryParams.join('&')}` : '';
        window.location = `${window.location.origin}/received-share/${sharingKey}/navigator${queryString}`;
      }
      
    </script>
  </body>
</html>
